# -- Vanir (development)
dashboard.fromabcthrough.xyz {
	# Don't expose the server name
	header -server

	# Don't expose the Host header
	header -host

	# Enable gzip compression
	encode gzip

	# Increase file upload size
	request_body {
		max_size 1GB
	}

	# Handle all error responses with a cat
	# TODO Do this the real way
	handle_errors {
		rewrite * /{http.error.status_code}
		reverse_proxy https://http.cat {
			header_up Host http.cat
		}
	}

	log {
		output file /var/log/caddy/dashboard.log
		format json
	}

	# Proxy all traffic to the web container
	reverse_proxy 127.0.0.1:6002
}
